{"ast":null,"code":"var _jsxFileName = \"/Users/huntermoser/repos/dungeon-tracker/react-dungeon-tracker/src/components/saveItems.component.js\";\nimport React, { Component } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080/api/test/\";\nexport default class SaveItems extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: {\n        username: \"\"\n      }\n    };\n  }\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n    if (!currentUser) this.setState({\n      redirect: \"/login\"\n    });\n    this.setState({\n      currentUser: currentUser,\n      userReady: true\n    });\n  }\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: this.state.redirect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 14\n      }, this);\n    }\n    return axios.post(API_URL + \"user/shop\", (req, res) => {\n      var myData = window.localStorage.getItem('ITEMS');\n      myData.save().then(() => {\n        console.log(\"item saved to database\");\n      }).catch(err => {\n        res.status(400).send(\"unable to save to database\");\n      });\n    });\n  }\n}","map":{"version":3,"names":["React","Component","Navigate","AuthService","axios","API_URL","SaveItems","constructor","props","state","redirect","userReady","currentUser","username","componentDidMount","getCurrentUser","setState","render","post","req","res","myData","window","localStorage","getItem","save","then","console","log","catch","err","status","send"],"sources":["/Users/huntermoser/repos/dungeon-tracker/react-dungeon-tracker/src/components/saveItems.component.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:8080/api/test/\";\n\nexport default class SaveItems extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: { username: \"\" }\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n\n    if (!currentUser) this.setState({ redirect: \"/login\" });\n    this.setState({ currentUser: currentUser, userReady: true })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Navigate to={this.state.redirect} />\n    }\n    return axios.post(API_URL + \"user/shop\", (req, res) => {\n      var myData = (window.localStorage.getItem('ITEMS'));\n      myData.save()\n        .then(() => {\n          console.log(\"item saved to database\");\n        })\n        .catch(err => {\n          res.status(400).send(\"unable to save to database\");\n        });\n    });\n  };    \n  \n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,MAAMC,OAAO,GAAG,iCAAiC;AAEjD,eAAe,MAAMC,SAAS,SAASL,SAAS,CAAC;EAC/CM,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAEZ,IAAI,CAACC,KAAK,GAAG;MACXC,QAAQ,EAAE,IAAI;MACdC,SAAS,EAAE,KAAK;MAChBC,WAAW,EAAE;QAAEC,QAAQ,EAAE;MAAG;IAC9B,CAAC;EACH;EAEAC,iBAAiB,GAAG;IAClB,MAAMF,WAAW,GAAGT,WAAW,CAACY,cAAc,EAAE;IAEhD,IAAI,CAACH,WAAW,EAAE,IAAI,CAACI,QAAQ,CAAC;MAAEN,QAAQ,EAAE;IAAS,CAAC,CAAC;IACvD,IAAI,CAACM,QAAQ,CAAC;MAAEJ,WAAW,EAAEA,WAAW;MAAED,SAAS,EAAE;IAAK,CAAC,CAAC;EAC9D;EAEAM,MAAM,GAAG;IACP,IAAI,IAAI,CAACR,KAAK,CAACC,QAAQ,EAAE;MACvB,oBAAO,QAAC,QAAQ;QAAC,EAAE,EAAE,IAAI,CAACD,KAAK,CAACC;MAAS;QAAA;QAAA;QAAA;MAAA,QAAG;IAC9C;IACA,OAAON,KAAK,CAACc,IAAI,CAACb,OAAO,GAAG,WAAW,EAAE,CAACc,GAAG,EAAEC,GAAG,KAAK;MACrD,IAAIC,MAAM,GAAIC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;MACnDH,MAAM,CAACI,IAAI,EAAE,CACVC,IAAI,CAAC,MAAM;QACVC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACvC,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;QACZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;MACpD,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;AAEF"},"metadata":{},"sourceType":"module","externalDependencies":[]}